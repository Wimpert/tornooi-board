<app-login></app-login>
<div *ngIf="tournament">
  <button (click)="save()">save</button>
  <button><a href="#/print/{{tournament.id}}">Print</a></button>
  <button><a href="#/refs/{{tournament.id}}">Refs </a></button>
  <input type="text" [(ngModel)]="tournament.data.name"> - refreshInterVal: <input type="text" [(ngModel)]="tournament.data.refreshInterVal"> - showSponserTime: <input type="text" [(ngModel)]="tournament.data.showSponserTime"> - showInfoTime: <input type="text" [(ngModel)]="tournament.data.showInfoTime">


  <div class="group-admin" *ngFor="let group of tournament.data.groups; let index = index" >
    <div class="match-admin-panel">
      <div *ngFor="let match of group.matches">
        <poule-match [match]="match"  (onChanged)="onChanged($event)"></poule-match>
      </div>
    </div>
    <div class="group-admin-panel">
      <div> <strong>{{group.groupname}}</strong> -  <button (click)="process(index)">Verwerk</button>   </div>
      <div>name  - pl - w - l - d - gs - gc - p - intern</div>
      <div *ngFor="let team of group.teams">
        {{team.name}} - {{team.matchesPlayed}} - {{team.matchesWon}} - {{team.matchesLost}} - {{team.matchesDrawed}} - {{team.goalsScored}} - {{team.goalsConcieved}} - {{team.points}}
        <input type="number" class="scorebox" (change)="onChanged($event)" [(ngModel)]="team.internalIndex">
      </div>
    </div>
  </div>


  <div *ngFor="let round of tournament.data.rounds">
    <knockout-round [round]="round" (processRequest)="handleRequest($event)"></knockout-round>
  </div>

  <div class="woman" *ngIf="tournament.data.womensCup.group as group">
    <div class="group-admin" >
      <div class="match-admin-panel">
        <div *ngFor="let match of group.matches">
          <poule-match [match]="match"  (onChanged)="onChanged($event)"></poule-match>
        </div>
      </div>
      <div class="group-admin-panel">
        <div> <strong>{{group.groupname}}</strong> -  <button (click)="afterWomensDraw()">after draw</button> </div>
        <div>name  - pl - w - l - d - gs - gc - p - intern</div>
        <div *ngFor="let team of group.teams">
          {{team.name}} - {{team.matchesPlayed}} - {{team.matchesWon}} - {{team.matchesLost}} - {{team.matchesDrawed}} - {{team.goalsScored}} - {{team.goalsConcieved}} - {{team.points}}
          <input type="number" class="scorebox"  [(ngModel)]="team.internalIndex">
        </div>
      </div>
    </div>
  </div>

  <div  *ngIf="tournament.data.womensCup.finals as womensFinal">
    <knockout-round  [round]="womensFinal"></knockout-round>
  </div>

</div>

